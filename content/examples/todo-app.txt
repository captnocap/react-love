=== METADATA ===
title: Todo List App
description: A todo list with add and remove functionality using TextInput, FlatList, and state management
category: Examples
platforms: all
keywords: todo, list, add, remove, TextInput, state, FlatList, interactive
difficulty: beginner

=== OVERVIEW ===
This example builds a complete todo list application. It demonstrates text input handling
(TextInput with onSubmit), list rendering (mapping over state), dynamic state updates
(adding and removing items), and scroll containers for overflow content.

=== CODE ===
---
import { useState, useCallback } from 'react';
import { Box, Text, Pressable, TextInput, ScrollView } from '@ilovereact/core';

interface Todo {
  id: string;
  text: string;
  done: boolean;
}

function TodoItem({ todo, onToggle, onRemove }: {
  todo: Todo;
  onToggle: () => void;
  onRemove: () => void;
}) {
  return (
    <Box style={{
      flexDirection: 'row',
      width: '100%',
      alignItems: 'center',
      padding: 12,
      borderBottomWidth: 1,
      borderColor: '#1e293b',
    }}>
      <Pressable onPress={onToggle}>
        <Box style={{
          width: 24,
          height: 24,
          borderRadius: 12,
          borderWidth: 2,
          borderColor: todo.done ? '#22c55e' : '#64748b',
          backgroundColor: todo.done ? '#22c55e' : 'transparent',
          justifyContent: 'center',
          alignItems: 'center',
        }}>
          {todo.done && (
            <Text style={{ fontSize: 14, color: '#ffffff' }}>
              {'\u2713'}
            </Text>
          )}
        </Box>
      </Pressable>
      <Box style={{ flexGrow: 1, marginLeft: 12 }}>
        <Text style={{
          fontSize: 16,
          color: todo.done ? '#64748b' : '#f8fafc',
          textDecorationLine: todo.done ? 'line-through' : 'none',
        }}>
          {todo.text}
        </Text>
      </Box>
      <Pressable onPress={onRemove}>
        <Box style={{
          width: 32,
          height: 32,
          borderRadius: 6,
          justifyContent: 'center',
          alignItems: 'center',
        }}>
          <Text style={{ fontSize: 18, color: '#ef4444' }}>
            {'\u00d7'}
          </Text>
        </Box>
      </Pressable>
    </Box>
  );
}

export default function App() {
  const [todos, setTodos] = useState<Todo[]>([
    { id: '1', text: 'Learn iLoveReact', done: false },
    { id: '2', text: 'Build something cool', done: false },
  ]);
  const [nextId, setNextId] = useState(3);

  const addTodo = useCallback((text: string) => {
    if (!text.trim()) return;
    setTodos(prev => [...prev, { id: String(nextId), text: text.trim(), done: false }]);
    setNextId(n => n + 1);
  }, [nextId]);

  const toggleTodo = useCallback((id: string) => {
    setTodos(prev => prev.map(t =>
      t.id === id ? { ...t, done: !t.done } : t
    ));
  }, []);

  const removeTodo = useCallback((id: string) => {
    setTodos(prev => prev.filter(t => t.id !== id));
  }, []);

  return (
    <Box style={{
      width: '100%',
      height: '100%',
      backgroundColor: '#0f172a',
      padding: 24,
    }}>
      <Text style={{ fontSize: 28, color: '#f8fafc', marginBottom: 16 }}>
        Todo List
      </Text>
      <TextInput
        placeholder="Add a new todo..."
        placeholderColor="#64748b"
        onSubmit={addTodo}
        style={{
          height: 44,
          backgroundColor: '#1e293b',
          borderRadius: 8,
          borderWidth: 1,
          borderColor: '#334155',
          marginBottom: 16,
        }}
        textStyle={{ fontSize: 16, color: '#f8fafc' }}
      />
      <ScrollView style={{
        flexGrow: 1,
        backgroundColor: '#1e293b',
        borderRadius: 8,
        borderWidth: 1,
        borderColor: '#334155',
      }}>
        {todos.map(todo => (
          <TodoItem
            key={todo.id}
            todo={todo}
            onToggle={() => toggleTodo(todo.id)}
            onRemove={() => removeTodo(todo.id)}
          />
        ))}
        {todos.length === 0 && (
          <Box style={{ padding: 24, alignItems: 'center' }}>
            <Text style={{ fontSize: 16, color: '#64748b' }}>
              No todos yet. Add one above!
            </Text>
          </Box>
        )}
      </ScrollView>
    </Box>
  );
}
---

=== EXPLANATION ===
1. TextInput with onSubmit handles adding new todos. When the user presses Enter,
   onSubmit fires with the current text value. The input clears automatically.

2. ScrollView wraps the todo list so it scrolls when items overflow the container.
   It has flexGrow: 1 to fill remaining vertical space (the parent has height: '100%').

3. Each TodoItem is a row (flexDirection: 'row') with three elements: a toggle
   circle, the todo text (with flexGrow: 1 to fill space), and a remove button.

4. The toggle circle uses conditional rendering: {todo.done && ...} to show a
   checkmark only when the todo is completed.

5. textDecorationLine: 'line-through' adds a strikethrough on completed todos.

6. Unicode characters (\u2713 for checkmark, \u00d7 for multiplication sign)
   are used for icons. In iLoveReact there are no icon fonts, so Unicode or
   Image components are the icon options.

7. State is managed with useState and useCallback. The functional update pattern
   (prev => ...) ensures correct state transitions when events fire rapidly.
