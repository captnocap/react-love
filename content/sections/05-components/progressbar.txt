=== METADATA ===
title: ProgressBar
description: Progress indicator bar that fills proportionally from 0 to 1, with optional label and animation.
category: Components
platforms: love2d, web, terminal, cc, nvim, hs, awesome
keywords: progress, bar, loading, percentage, indicator, animated
related: Sparkline, BarChart
difficulty: beginner

=== OVERVIEW ===
ProgressBar displays a horizontal fill bar representing progress from 0 to 1. The fill width is rendered as a percentage of the track width. An optional label shows the percentage or custom text, and the `animated` prop uses `useSpring` to smoothly interpolate value changes.

The component uses Box and Text primitives, making it compatible with all targets. The track and fill both use pill-shaped border radii based on the height.

=== API / SYNTAX ===
Import: import { ProgressBar } from '@ilovereact/core';

Usage:
```tsx
<ProgressBar value={0.65} />
```

Props:

| Prop       | Type    | Default    | Description                                  |
|------------|---------|------------|----------------------------------------------|
| value      | number  | (required) | Progress value from 0 to 1                   |
| color      | Color   | '#3b82f6'  | Fill bar color                               |
| trackColor | Color   | '#1e293b'  | Background track color                       |
| height     | number  | 8          | Bar height in pixels                         |
| showLabel  | boolean | false      | Show percentage label (requires height >= 14)|
| label      | string  | -          | Custom label text (defaults to percentage)   |
| animated   | boolean | false      | Animate value changes with useSpring         |
| style      | Style   | -          | Outer container style overrides              |

=== EXAMPLES ===
Example 1: Basic progress bar
---
```tsx
<ProgressBar value={0.42} style={{ width: '100%' }} />
```
---
Platforms: All

Example 2: Progress bar with label
---
```tsx
<ProgressBar
  value={0.75}
  showLabel
  height={20}
  color="#22c55e"
  style={{ width: 200 }}
/>
```
---
Platforms: All

Example 3: Animated progress with custom label
---
```tsx
<ProgressBar
  value={progress}
  animated
  label={`${downloaded} / ${total} MB`}
  showLabel
  height={18}
  color="#f59e0b"
  trackColor="#1e1e24"
  style={{ width: '100%' }}
/>
```
---
Platforms: All

=== PLATFORM NOTES ===
- ProgressBar uses Box and Text primitives exclusively. It works identically on all targets.
- The fill width is expressed as a CSS/style percentage string: `width: '${value * 100}%'`.
- When `animated` is true, the fill width is driven by `useSpring` with `stiffness: 120` and `damping: 20`, creating a smooth spring animation when the value changes.
- The label is rendered as an absolutely positioned overlay centered on the track. It only appears when `showLabel` is true AND `height >= 14` (to ensure the text fits).
- Label font size is `Math.max(9, height - 4)` with `fontWeight: 'bold'` and `color: '#ffffff'`.
- Default label text is `Math.round(value * 100) + '%'`. The `label` prop overrides this.
- Both the track and fill use `borderRadius: height / 2` for a pill shape.

=== CRITICAL RULES ===
- The `value` prop is required and is clamped to the range [0, 1]. Values outside this range are clamped internally.
- ProgressBar needs an explicit `width` either via the `style` prop or from its parent layout. Without width, the track collapses.
- The `showLabel` prop is ignored when `height < 14` because the text would not fit within the bar.
- When using `animated`, the `useSpring` hook is called unconditionally. The animation springs toward `value * 100` on every value change.

=== SEE ALSO ===
- Sparkline
- BarChart
