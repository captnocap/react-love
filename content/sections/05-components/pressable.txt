=== METADATA ===
title: Pressable
description: Interaction component with press, long press, and hover state tracking
category: Components
platforms: love2d, web
keywords: pressable, button, interaction, press, longpress, hover, touch, click, state, render prop
related: Box, Modal, Slider
difficulty: beginner

=== OVERVIEW ===
Pressable is a high-level interaction component that tracks pressed, hovered, and focused states. It wraps Box internally and provides callbacks for press, long press, hover, and focus events. Unlike Box's raw event handlers, Pressable manages interaction lifecycle: it fires onPress only on a clean release (not when a long press fires), supports configurable long press delay, and exposes interaction state to children via a render prop pattern.

Pressable supports both static and function-based style and children props. When passed a function, it receives a PressableState object with { pressed, hovered, focused } booleans, letting you build reactive UI without manual state management. It also supports hitSlop to expand the touch target beyond visible bounds, and integrates keyboard accessibility (Enter/Space triggers press).

=== API / SYNTAX ===
```tsx
import { Pressable } from '@ilovereact/core';
```

```tsx
<Pressable
  onPress={(event) => { /* fired on clean tap/click */ }}
  onLongPress={(event) => { /* fired after delayLongPress ms */ }}
  style={(state) => ({
    padding: 12,
    backgroundColor: state.pressed ? '#45475a' : state.hovered ? '#313244' : '#1e1e2e',
    borderRadius: 8,
  })}
>
  {(state) => (
    <Text style={{ fontSize: 14, color: state.pressed ? '#89b4fa' : '#cdd6f4' }}>
      {state.pressed ? 'Pressing...' : 'Press me'}
    </Text>
  )}
</Pressable>
```

Props:
| Prop              | Type                                              | Default   | Description                                  |
|-------------------|----------------------------------------------------|-----------|----------------------------------------------|
| onPress           | (event: LoveEvent) => void                         | undefined | Fires on release if long press did not fire  |
| onLongPress       | (event: LoveEvent) => void                         | undefined | Fires after delayLongPress milliseconds      |
| onPressIn         | (event: LoveEvent) => void                         | undefined | Fires immediately when press begins          |
| onPressOut        | (event: LoveEvent) => void                         | undefined | Fires when press ends (release or cancel)    |
| onHoverIn         | (event: LoveEvent) => void                         | undefined | Fires when pointer enters                    |
| onHoverOut        | (event: LoveEvent) => void                         | undefined | Fires when pointer leaves                    |
| disabled          | boolean                                            | false     | Disables all interaction                     |
| delayLongPress    | number                                             | 500       | Milliseconds before long press fires         |
| style             | Style | (state: PressableState) => Style            | undefined | Static style or function of interaction state|
| children          | ReactNode | (state: PressableState) => ReactNode   | REQUIRED  | Static children or render prop               |
| hitSlop           | number | HitSlop                                    | undefined | Expand touch target (px)                     |
| accessibilityRole | string                                             | undefined | ARIA role (web: defaults to 'button')        |

PressableState:
```ts
interface PressableState {
  pressed: boolean;   // true while pointer is down
  hovered: boolean;   // true while pointer is over the element
  focused: boolean;   // true while keyboard-focused
}
```

HitSlop:
```ts
interface HitSlop {
  top?: number;
  bottom?: number;
  left?: number;
  right?: number;
}
```

When hitSlop is a number, it applies equally to all four sides.

=== EXAMPLES ===
Example 1: Simple button
---
```tsx
<Pressable
  onPress={() => console.log('pressed')}
  style={{ padding: 12, backgroundColor: '#89b4fa', borderRadius: 8 }}
>
  <Text style={{ fontSize: 14, color: '#1e1e2e' }}>Submit</Text>
</Pressable>
```
---
Platforms: Love2D, Web

Example 2: Reactive style and children via render props
---
```tsx
<Pressable
  onPress={() => setCount(c => c + 1)}
  style={(state) => ({
    padding: 16,
    backgroundColor: state.pressed ? '#585b70' : state.hovered ? '#45475a' : '#313244',
    borderRadius: 12,
    opacity: state.pressed ? 0.9 : 1,
  })}
>
  {(state) => (
    <Text style={{ fontSize: 16, color: state.hovered ? '#89b4fa' : '#cdd6f4' }}>
      {state.pressed ? 'Pressing...' : `Count: ${count}`}
    </Text>
  )}
</Pressable>
```
---
Platforms: Love2D, Web

Example 3: Long press with expanded hit area
---
```tsx
<Pressable
  onPress={() => console.log('tap')}
  onLongPress={() => console.log('long press!')}
  delayLongPress={800}
  hitSlop={20}
  style={{ padding: 8, backgroundColor: '#313244', borderRadius: 4 }}
>
  <Text style={{ fontSize: 12, color: '#a6adc8' }}>Hold me</Text>
</Pressable>
```
---
Platforms: Love2D, Web

Example 4: Disabled state
---
```tsx
<Pressable
  onPress={() => {}}
  disabled={isLoading}
  style={{ padding: 12, backgroundColor: '#313244', borderRadius: 8 }}
>
  <Text style={{ fontSize: 14, color: '#6c7086' }}>
    {isLoading ? 'Loading...' : 'Submit'}
  </Text>
</Pressable>
```
---
Platforms: Love2D, Web

=== PLATFORM NOTES ===
Love2D:
  In native mode, Pressable wraps a Box and passes interaction state and hitSlop as props to the host element. The Lua event system handles hit testing with hitSlop expansion. Long press timing runs in JavaScript via setTimeout.

Web:
  Renders as a <div> with pointer event handlers, tabIndex for keyboard focus, and role attribute for accessibility. Disabled state sets cursor: not-allowed and opacity: 0.5. HitSlop is implemented via negative margin + positive padding trick to expand the clickable area without changing visual bounds. Keyboard accessibility: Enter and Space trigger press.

Terminal:
  Not directly available on grid targets. Build equivalent interaction with the grid target's own event system.

=== CRITICAL RULES ===
- onPress fires only on release and only if onLongPress did not fire during the same gesture. If you need to know immediately when the finger goes down, use onPressIn.
- The children prop is required. Pressable with no children renders an empty, invisible touch target.
- When disabled is true, all event handlers are suppressed and state resets to { pressed: false, hovered: false, focused: false }.
- If pointer leaves the element while pressed, the press is canceled (pressed becomes false, long press timer is cleared).
- hitSlop expands the interactive area, not the visual area. The element looks the same but responds to touches outside its visible bounds.

=== SEE ALSO ===
- Box
- Modal
- Slider
- Switch
