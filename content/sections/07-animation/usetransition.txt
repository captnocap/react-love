=== METADATA ===
title: useTransition
description: Convenience hook that automatically transitions to a value with timing-based easing.
category: Animation
platforms: love2d, web, terminal, cc, nvim, hs, awesome
keywords: useTransition, hook, timing, easing, transition, convenience, duration, animation
related: usespring.txt, useanimation.txt, easing.txt
difficulty: beginner

=== OVERVIEW ===
useTransition is a convenience hook that automatically starts a timing-based animation
whenever its target value changes. It is the simplest way to add eased transitions to a
component -- you provide the target value and optional timing configuration, and the hook
returns the current interpolated value.

Like useSpring, the hook skips animation on the first render (the value starts at the target
immediately). On subsequent renders where the target changes, a timing animation with the
specified duration and easing is started.

=== API / SYNTAX ===
Signature:
  function useTransition(value: number, config?: { duration?: number; easing?: EasingFunction }): number

Parameters:
  value: number
    The target value to transition towards. When this changes, a new timing animation starts.

  config?: object (optional)
    duration?: number            Duration in milliseconds. Default: 300
    easing?: EasingFunction      Easing function. Default: Easing.easeInOut

Returns:
  number
    The current interpolated value. Updates each animation frame, triggering re-render.

=== EXAMPLES ===
Example 1: Smooth opacity transition
---
import { useState } from 'react';
import { useTransition, Box, Text } from '@ilovereact/core';

function FadeToggle() {
  const [visible, setVisible] = useState(true);
  const opacity = useTransition(visible ? 1 : 0, { duration: 400 });

  return (
    <Box style={{ width: '100%', height: '100%', padding: 20 }}>
      <Box style={{ width: 200, height: 80, opacity, backgroundColor: '#89b4fa', borderRadius: 8 }}>
        <Text style={{ fontSize: 16, color: '#1e1e2e' }}>Content</Text>
      </Box>
      <Box
        style={{ width: 100, height: 40, marginTop: 12, backgroundColor: '#313244', borderRadius: 4 }}
        onClick={() => setVisible(!visible)}
      >
        <Text style={{ fontSize: 14, color: '#cdd6f4' }}>Toggle</Text>
      </Box>
    </Box>
  );
}
---
Platforms: All

Example 2: Custom easing
---
import { useState } from 'react';
import { useTransition, Easing, Box } from '@ilovereact/core';

function SlidePanel() {
  const [open, setOpen] = useState(false);
  const x = useTransition(open ? 0 : -250, {
    duration: 500,
    easing: Easing.bezier(0.16, 1, 0.3, 1),
  });

  return (
    <Box style={{ width: '100%', height: '100%' }}>
      <Box style={{
        width: 250,
        height: '100%',
        backgroundColor: '#313244',
        transform: { translateX: x },
      }}>
        <Text style={{ fontSize: 16, color: '#cdd6f4', padding: 16 }}>Side Panel</Text>
      </Box>
      <Box
        style={{ position: 'absolute', top: 10, right: 10, width: 80, height: 40, backgroundColor: '#a6e3a1', borderRadius: 4 }}
        onClick={() => setOpen(!open)}
      >
        <Text style={{ fontSize: 14, color: '#1e1e2e' }}>Menu</Text>
      </Box>
    </Box>
  );
}
---
Platforms: All

Example 3: Progress bar animation
---
import { useTransition, Box, Text } from '@ilovereact/core';
import { Easing } from '@ilovereact/core';

function ProgressBar({ progress }: { progress: number }) {
  const width = useTransition(progress * 300, { duration: 600, easing: Easing.easeOut });

  return (
    <Box style={{ width: 300, height: 24, backgroundColor: '#313244', borderRadius: 4 }}>
      <Box style={{
        width,
        height: '100%',
        backgroundColor: '#a6e3a1',
        borderRadius: 4,
      }} />
    </Box>
  );
}
---
Platforms: All

=== PLATFORM NOTES ===
Works identically on all platforms. Uses useAnimation internally with timing-based animation.

=== CRITICAL RULES ===
- Animation is skipped on first render -- value starts at the target immediately
- A new timing animation starts every time value changes
- The previous animation is automatically stopped when a new one starts
- Config changes do NOT restart the animation -- only value changes trigger animation
- Config is read from a ref at animation start time, so it can be dynamic
- Default easing is Easing.easeInOut; default duration is 300ms

=== SEE ALSO ===
- usespring.txt -- Spring-based convenience hook (physics-based alternative)
- useanimation.txt -- Full control over AnimatedValue
- easing.txt -- Available easing functions
