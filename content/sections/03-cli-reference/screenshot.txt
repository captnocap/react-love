=== METADATA ===
title: ilovereact screenshot
description: Capture a headless screenshot of the current app state for visual layout verification.
category: CLI
platforms: love2d
keywords: screenshot, headless, capture, png, visual verification, xvfb, love2d
related: lint.txt, build.txt
difficulty: beginner

=== OVERVIEW ===
The `ilovereact screenshot` command runs the full lint + build pipeline, then launches
Love2D in headless screenshot mode to capture the current app state as a PNG image. This is
the primary tool for visual verification of layouts without manually inspecting a running
Love2D window.

The command automatically detects xvfb-run for truly headless operation on servers or CI
environments. If xvfb-run is not available, it launches Love2D normally (requires a display).

=== API / SYNTAX ===
Usage:
  ilovereact screenshot [--output path]

Options:
  --output, -o    Path for the output PNG file.
                  Default: screenshot.png in the project root.

Steps performed:
  1. Lint gate (fails on errors, same as `ilovereact lint`)
  2. Bundle JS (esbuild with IIFE format for Love2D)
  3. Launch Love2D with ILOVEREACT_SCREENSHOT=1 environment variable
  4. Love2D renders one frame and saves to the specified output path
  5. Love2D exits automatically after saving

Environment variables set:
  ILOVEREACT_SCREENSHOT=1
  ILOVEREACT_SCREENSHOT_OUTPUT=<absolute output path>

Timeout:
  15 seconds. If Love2D does not produce a screenshot within this window, the command
  fails with a timeout error.

=== EXAMPLES ===
Example 1: Default screenshot
---
ilovereact screenshot
# Output: screenshot.png in project root
---
Platforms: love2d

Example 2: Custom output path
---
ilovereact screenshot --output /tmp/preview.png
---
Platforms: love2d

Example 3: CI verification workflow
---
ilovereact lint
ilovereact screenshot --output /tmp/layout-check.png
# Inspect /tmp/layout-check.png or diff against a reference image
---
Platforms: love2d

=== PLATFORM NOTES ===
This command is Love2D-specific. It requires Love2D to be installed and in PATH. On headless
systems (CI, remote servers), xvfb-run must be available for the command to work -- it is
auto-detected and used when present.

The screenshot captures exactly what Love2D would render at the window size defined in
conf.lua. The Lua runtime detects the ILOVEREACT_SCREENSHOT environment variable, renders
one complete frame, saves the canvas to disk, and exits.

=== CRITICAL RULES ===
- The lint gate runs before screenshot capture -- fix lint errors first
- Love2D must be installed and available in PATH
- For headless environments, install xvfb-run (apt install xvfb on Debian/Ubuntu)
- The screenshot reflects the initial render state (no user interaction)
- 15-second timeout -- if your app hangs during initialization, the command will fail
- The entry point must be src/main.tsx

=== SEE ALSO ===
- lint.txt -- Lint gate that runs before screenshot
- build.txt -- Full build pipeline
- dev.txt -- Live development workflow
